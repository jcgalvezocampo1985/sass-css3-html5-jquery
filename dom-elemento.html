<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DOM elementos</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0">
</head>

<body>
    <p id="elemento-1" style="border: 1px solid red;">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing
        elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio
        id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa
        placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa
        tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate
        aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur
        adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem
        sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab
        atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut?
    </p>
    <p id="elemento-2" style="border: 1px solid red;">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing
        elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio
        id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa
        placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa
        tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate
        aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur
        adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem
        sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab
        atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut?
    </p>
    <p id="elemento-3" style="border: 1px solid red; ">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing
        elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio
        id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa
        placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa
        tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate
        aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur
        adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem
        sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab
        atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut?
    </p>
    <p id="elemento-4" style="border: 1px solid red; ">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing
        elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio
        id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa
        placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa
        tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate
        aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur
        adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem
        sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut? Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab
        atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut?
    </p>

    <p id="elemento-5" style="border: 1px solid black; ">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet harum, voluptatem sed optio id obcaecati tenetur, ab atque culpa placeat laudantium! Sequi placeat ipsa tenetur vel recusandae cum voluptate aut?
    </p>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js " integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=" anonymous "></script>
    <script>
        function isElementInViewport(el) {
            if (el instanceof jQuery) {
                el = el[0];
            }

            var rect = el.getBoundingClientRect();

            return (rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or $(window).height() */
                rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */ );
        }

        /*function callback() {
            console.log('elemento es visible');
        }

        function fireIfElementVisible(el, callback) {
            return function() {
                if (isElementInViewport(el)) {
                    callback();
                }
            }
        }

        for (var i = 1; i <= 1; i++) {
            var el = document.getElementById('elemento-' + i);

            var handler = fireIfElementVisible(el, callback);
            $(window).on('DOMContentLoaded scroll', handler);
            if (window.addEventListener) {
                addEventListener('DOMContentLoaded', handler, false);
                addEventListener('load', handler, false);
                addEventListener('scroll', handler, false);
                addEventListener('resize', handler, false);
            } else if (window.attachEvent) {
                attachEvent('onDOMContentLoaded', handler); // IE9+ :( attachEvent('onload', handler);
                attachEvent('onscroll', handler);
                attachEvent('onresize', handler);
            }
        }*/

        ////***********************/////

        function callback() {
            console.log('elemento es visible');
        }

        function fireIfElementVisible(el, callback) {
            return function() {
                if (isElementInViewport(el)) {
                    callback();
                }
            }
        }

        var el = document.getElementById('elemento-1');

        var handler = fireIfElementVisible(el, callback);
        /*$(window).on('scroll', handler);
        //non-jquery
        if (window.addEventListener) {
            addEventListener('DOMContentLoaded', handler, false);
            addEventListener('load', handler, false);
            addEventListener('scroll', handler, false);
            addEventListener('resize', handler, false);
        } else if (window.attachEvent) {
            attachEvent('onDOMContentLoaded', handler); // IE9+ :( attachEvent('onload', handler);
            attachEvent('onscroll', handler);
            attachEvent('onresize', handler);
        }*/
        window.addEventListener('scroll', () => {
            if (isElementInViewport(el)) {
                console.log('Verificar si ya ha sido marcado como le√≠do');
            }
        });


        /*var elementExists = function(element) {
            while (element) {
                if (element == document) {
                    return true;
                }
                element = element.parentNode;
            }
            return false;
        }
        var image = document.getElementById("elemento-1 ");
        console.log(elementExists(image));
        image.parentNode.removeChild(image);
        console.log(elementExists(image));*/
    </script>
</body>

</html>